<div class="container mt-5">
    <div class="form-container">
      <h2 class="text-center mb-4">Add Pin</h2>

      <form [formGroup]="addPinForm">
        <!-- Title Input -->
        <div class="mb-3 d-flex align-items-center gap-3">
          <label for="title" class="form-label">Title*:</label>
          <span class="w-100">
            <input type="text" formControlName="title" class="form-control" id="title" placeholder="Enter pin title">
            <div *ngIf="addPinForm.get('title')?.touched || isSubmitted">
              <span *ngIf="addPinForm.get('title')?.hasError('required')" class="mb-0 text-danger">Title is required</span>
            </div>
          </span>
          
        </div>

        <!-- Image Upload -->
        <div class="mb-3 d-flex align-items-center gap-3">
          <label for="image" class="form-label">Select Image*:</label>
          <span class="w-100">
            <!-- <div ng2FileDrop
            [ngClass]="hasBaseDropZoneOver ? 'nv-file-over' : 'my-drop-zone'"
            (fileOver)="fileOverBase($event)"
            (onFileDrop)="onFileSelected($event)"
            [uploader]="uploader">
           Choose & Drag and Drop files here
          </div> -->
          <div  class="w-100" appDnd (fileDropped)="onDNDSelected($event)">
            <input type="file" id="fileInput" class="custom-file-input" accept="image/png, image/gif, image/jpeg" (change)="onFileSelected($event)">
          </div>
          <div *ngIf="addPinForm.get('image')?.touched || isSubmitted">
            <span *ngIf="addPinForm.get('image')?.hasError('required')" class="mb-0 text-danger">image is required</span>
          </div>
           </span>
        </div>

        <!-- Collaborator Dropdown -->
        <div class="mb-3 d-flex align-items-center gap-3">
          <label for="collaborator" class="form-label">Select Collaboratory*:</label>
          <span class="w-100">
            <ngx-select
            autocomplete= 'on'
            formControlName="collaborators"
            optionTextField = 'title'
            optionValueField = 'id'
            [allowClear]="true"
            [items]="collaboratorData"
            [multiple]=true
            placeholder="No Collaborator selected"
            ></ngx-select>
            <div *ngIf="addPinForm.get('collaborators')?.touched || isSubmitted">
              <span *ngIf="addPinForm.get('collaborators')?.hasError('required')" class="mb-0 text-danger">Collaborators is required</span>
            </div>
          </span>
        </div>

        <!-- Privacy Options -->
        <div class="mb-3 d-flex align-items-center gap-3">
          <label class="form-label">Privacy*:</label>
          <div class="d-flex">
            <div class="form-check d-flex justiy-content-center align-items-center gap-2 ps-0">
              <input class="mr-2" formControlName="privacy" type="radio" id="private" value="Private">
              <label class="form-check-label" for="private">Private</label>
            </div>
            <div class="form-check d-flex  justiy-content-center  align-items-center gap-2 ps-0">
              <input class="mr-2" formControlName="privacy" type="radio" id="public" value="Public">
              <label class="form-check-label" for="public">Public</label>
            </div>
          </div>
        </div>

        <!-- Submit Button -->
        <div class="text-center">
          <button type="submit" class="btn btn-secondary" (click)="createPin()">Create Pin</button>
        </div>
      </form>
    </div>
  </div>